# Listener Service Configuration

# RabbitMQ Configuration
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest

# Queue Configuration
QUEUE_NAME=log_queue
EXCHANGE_NAME=logs_topic
EXCHANGE_TYPE=topic
ROUTING_KEY=log.#
QUEUE_DURABLE=true
AUTO_DELETE=false

# Consumer Configuration
CONSUMER_TAG=log-consumer
PREFETCH_COUNT=10
AUTO_ACK=false

# Logger Service Configuration
LOGGER_SERVICE_URL=http://logger-service:80
LOGGER_RPC_URL=logger-service:5001
USE_RPC=true

# Retry Configuration
MAX_RETRIES=3
RETRY_DELAY_SECONDS=5
DEAD_LETTER_EXCHANGE=logs_dlx

# Connection Settings
CONNECTION_TIMEOUT=30s
HEARTBEAT_INTERVAL=60s
RECONNECT_DELAY=5s

# Concurrency
MAX_CONCURRENT_WORKERS=5

# Logging
LOG_LEVEL=info
ENVIRONMENT=development

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=8080

# Notes:
# - This service consumes messages from RabbitMQ
# - Runs as a background worker
# - Processes log events asynchronously
# - Supports automatic reconnection to RabbitMQ
# - Uses dead letter exchange for failed messages
